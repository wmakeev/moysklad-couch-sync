module.exports = client => ({
  /**
   * Асинхронная обертка для client.load
   * @param {string} type Тип сущности
   * @param {Query} query Запрос
   * @returns {PromiseLike<Array<Entity>>} Promise
   */
  load (type, query) {
    return new Promise((resolve, reject) => {
      client.load(type, query, function (err, data) {
        if (err) {
          reject(err)
        } else {
          resolve(data)
        }
      })
    })
  },

  /**
   * Асинхронная обертка для client.save
   * @param {string} type Тип сущности
   * @param {Entity} entity Запрос
   * @returns {PromiseLike} Promise
   */
  save (type, entity) {
    return new Promise((resolve, reject) => {
      client.save(type, entity, function (err, result) {
        if (err) {
          reject(err)
        } else {
          resolve(result)
        }
      })
    })
  }
})

